// Generated by CoffeeScript 1.6.2
(function() {
  var displayFileContent, rawCodes;

  rawCodes = void 0;

  displayFileContent = function(lang) {
    var highlighted, i, length, lineNumbers, lineNumbersList;

    if (!rawCodes) {
      rawCodes = CodeLoader.getCode();
    }
    if (!lang) {
      lang = CodeLoader.getLanguage();
    }
    if (lang) {
      highlighted = hljs.highlight(lang, rawCodes, true);
      $('.codes code').html(highlighted.value);
      $('.codes code').addClass(highlighted.language);
    } else {
      $('.codes code').html(rawCodes);
    }
    length = CodeLoader.getLineNumber();
    lineNumbersList = (function() {
      var _i, _results;

      _results = [];
      for (i = _i = 1; 1 <= length ? _i <= length : _i >= length; i = 1 <= length ? ++_i : --_i) {
        _results.push(i + '.');
      }
      return _results;
    })();
    lineNumbers = lineNumbersList.join('\n');
    return $('.line_numbers').html(lineNumbers);
  };

  window.notifyFileLoaded = function() {
    return displayFileContent();
  };

  window.setLanguage = function(lang) {
    return displayFileContent(lang);
  };

  $(document).ready(function() {
    return CodeLoader.loadCode();
  });

}).call(this);
